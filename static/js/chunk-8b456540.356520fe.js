(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8b456540"],{"34b6":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setting-yly-container"},[a("el-row",{staticClass:"setting-yly-row"},[a("el-col",{staticClass:"setting-yly-row-col",staticStyle:{"text-align":"left","padding-left":"15px"},attrs:{span:14}},[a("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:t.add}},[t._v("新 增")])],1),t._v(" "),a("el-col",{staticStyle:{"text-align":"right","padding-right":"40px"},attrs:{span:10}},[a("el-input",{staticStyle:{"max-width":"240px"},attrs:{placeholder:"请输入名称",size:"small"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}},[a("el-button",{staticClass:"search-button",attrs:{slot:"suffix",type:"text",size:"small"},on:{click:t.search},slot:"suffix"},[a("i",{staticClass:"el-icon-search"})])],1)],1)],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.shopList,stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"leader.realname",label:"门店名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"real_name",label:"门店店长",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goods_number",label:"在售商品",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"order_number",label:"销售额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"是否支持自提",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s("1"===e.row.type?"是":"否"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s("1"===e.row.type?"微信端":"小程序"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#13ce66","active-value":"1","inactive-value":"0"},on:{change:function(a){return t.changeStatus(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"action-button",attrs:{type:"text"},on:{click:function(a){return t.eidt(e.row)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{staticClass:"action-button",attrs:{type:"text"},on:{click:function(a){return t.del(e.row)}}},[a("svg-icon",{attrs:{"icon-class":"shanchu"}})],1)]}}])})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.count,"page-size":10,"current-page":t.page},on:{"size-change":t.changePage,"current-change":t.changePage}})],1),t._v(" "),a("el-dialog",{attrs:{visible:t.disAdd,width:"40%",title:t.isAdd?"新增":"修改",top:"0"},on:{"update:visible":function(e){t.disAdd=e}}},[t.disAdd?a("add",{attrs:{isAdd:t.isAdd,addData:t.shopData},on:{success:function(e){t.disAdd=!1,t.getShopList()}}}):t._e()],1)],1)},n=[],r=a("a6b9"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"addform",attrs:{model:t.addData,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"登录账号"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入"},model:{value:t.addData.username,callback:function(e){t.$set(t.addData,"username",e)},expression:"addData.username"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{"show-password":"",placeholder:"请输入"},model:{value:t.addData.password,callback:function(e){t.$set(t.addData,"password",e)},expression:"addData.password"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"门店名称"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入"},model:{value:t.addData.leader.realname,callback:function(e){t.$set(t.addData.leader,"realname",e)},expression:"addData.leader.realname"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"门店店长"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入"},model:{value:t.addData.real_name,callback:function(e){t.$set(t.addData,"real_name",e)},expression:"addData.real_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"店长手机号"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入"},model:{value:t.addData.leader.phone,callback:function(e){t.$set(t.addData.leader,"phone",e)},expression:"addData.leader.phone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"门店店招"}},[a("select-img",{on:{selectData:function(e){return t.addData.leader.pic_urls+=e[0]+","}}})],1),t._v(" "),""!==t.addData.leader.pic_urls?a("el-form-item",t._l(t.addData.leader.pic_urls.split(",").filter((function(t){return""!==t})),(function(t,e){return a("l-pic",{key:e,attrs:{picurl:t,size:{width:100,height:100},disdel:!1,disview:!1}})})),1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"地址",prop:"area"}},[a("el-cascader",{staticStyle:{width:"80%"},attrs:{options:t.options,placeholder:"请选择省市区"},on:{change:t.handleChange},model:{value:t.selectedOptions,callback:function(e){t.selectedOptions=e},expression:"selectedOptions"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"详细地址"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入"},model:{value:t.addData.leader.area_name,callback:function(e){t.$set(t.addData.leader,"area_name",e)},expression:"addData.leader.area_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"自提点地址"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入"},model:{value:t.addData.leader.addr,callback:function(e){t.$set(t.addData.leader,"addr",e)},expression:"addData.leader.addr"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"自提点坐标"}},[a("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入"},model:{value:t.addData.leader.longitude,callback:function(e){t.$set(t.addData.leader,"longitude",e)},expression:"addData.leader.longitude"}}),t._v(" "),a("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入"},model:{value:t.addData.leader.latitude,callback:function(e){t.$set(t.addData.leader,"latitude",e)},expression:"addData.leader.latitude"}}),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.disMap=!0}}},[t._v("获取坐标")])],1),t._v(" "),a("el-form-item",{attrs:{label:"是否开启配送"}},[a("el-switch",{attrs:{"active-color":"#13ce66","active-value":"1","inactive-value":"0"},model:{value:t.addData.leader.is_tuan_express,callback:function(e){t.$set(t.addData.leader,"is_tuan_express",e)},expression:"addData.leader.is_tuan_express"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"配送费"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入"},model:{value:t.addData.leader.tuan_express_fee,callback:function(e){t.$set(t.addData.leader,"tuan_express_fee",e)},expression:"addData.leader.tuan_express_fee"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"提现扣点(%)"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入"},model:{value:t.addData.leader.points,callback:function(e){t.$set(t.addData.leader,"points",e)},expression:"addData.leader.points"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"简单说明"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入"},model:{value:t.addData.intro,callback:function(e){t.$set(t.addData,"intro",e)},expression:"addData.intro"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否营业"}},[a("el-switch",{attrs:{"active-color":"#13ce66","active-value":"1","inactive-value":"0"},model:{value:t.addData.status,callback:function(e){t.$set(t.addData,"status",e)},expression:"addData.status"}})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:t.submit}},[t._v("提 交")])],1),t._v(" "),a("el-dialog",{attrs:{visible:t.disMap,title:"地图",modal:!1},on:{"update:visible":function(e){t.disMap=e}}},[a("zm-map",{attrs:{center:""===t.addData.leader.addr?{lng:116.404,lat:39.915}:t.addData.leader.addr},on:{selectPoint:t.selectPoint}})],1)],1)},i=[],d=a("2f39"),o=a("334a"),c=a("ef6c"),u=a("c937"),p={props:{addData:{type:Object,required:!0},isAdd:{type:Boolean,required:!0}},components:{SelectImg:d["a"],LPic:o["a"],ZmMap:u["a"]},data:function(){return{options:c["regionData"],selectedOptions:[],disMap:!1}},methods:{submit:function(){var t=this;this.$refs.addform.validate((function(e){e&&(t.isAdd?Object(r["f"])(t.addData).then((function(e){200===e.status?(t.$emit("success"),t.$message.success("添加成功！")):t.$message.error(e.message)})):Object(r["g"])(t.addData).then((function(e){200===e.status?(t.$emit("success"),t.$message.success("修改成功！")):t.$message.error(e.message)})))}))},handleChange:function(t){this.addData.leader.province_code=t[0],this.addData.leader.city_code=t[1],this.addData.leader.area_code=t[2]},selectPoint:function(t){this.addData.leader.longitude=t.lng,this.addData.leader.latitude=t.lat,this.disMap=!1}}},m=p,h=a("2877"),f=Object(h["a"])(m,l,i,!1,null,null,null),b=f.exports,g={name:"setting-yly",components:{add:b},data:function(){return{page:1,count:1,shopList:[],searchName:"",disAdd:!1,isAdd:!0,shopData:{key:this.$store.state.app.activeApp.saa_key,username:"",real_name:"",password:"",intro:"",type:"1",points:"",status:"1",leader:{realname:"",phone:"",pic_urls:"",addr:"",longitude:"",latitude:"",province_code:"",city_code:"",area_code:"",area_name:"",is_tuan_express:"1",tuan_express_fee:""}}}},mounted:function(){this.getShopList()},methods:{getShopList:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,page:this.page,limit:10,type:"1"};Object(r["e"])(e).then((function(e){200===e.status?(t.shopList=e.data,t.count=parseInt(e.count)):204===e.status?(t.shopList=[],t.count=1):t.$message.error(e.message)}))},changePage:function(t){this.page=t,this.getShopList()},search:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,page:1,limit:10,type:"1",searchName:this.searchName};Object(r["e"])(e).then((function(e){200===e.status?(t.shopList=e.data,t.count=parseInt(e.count)):204===e.status?(t.shopList=[],t.count=1):t.$message.error(e.message)}))},add:function(){this.shopData={key:this.$store.state.app.activeApp.saa_key,username:"",real_name:"",password:"",intro:"",type:"1",points:"",status:"1",leader:{realname:"",phone:"",pic_urls:"",addr:"",longitude:"",latitude:"",province_code:"",city_code:"",area_code:"",area_name:"",is_tuan_express:"1",tuan_express_fee:""}},this.isAdd=!0,this.disAdd=!0},del:function(t){var e=this,a={key:this.$store.state.app.activeApp.saa_key,id:t.id};Object(r["a"])(a).then((function(t){200===t.status?(e.getShopList(),e.$message.success("删除成功！")):e.$message.error(t.message)}))},eidt:function(t){this.shopData={key:this.$store.state.app.activeApp.saa_key,username:t.username,real_name:t.real_name,password:"",intro:t.intro,type:t.type,points:t.points,status:t.status,leader:t.leader,id:t.id},this.disAdd=!0,this.isAdd=!1},changeStatus:function(t){var e=this,a={key:this.$store.state.app.activeApp.saa_key,id:t.id,status:t.status};Object(r["g"])(a).then((function(t){200===t.status?e.$message.success("修改成功！"):e.$message.error(t.message)}))}}},v=g,_=(a("95d4"),Object(h["a"])(v,s,n,!1,null,"6766418e",null));e["default"]=_.exports},"34b8":function(t,e,a){"use strict";a.d(e,"e",(function(){return n})),a.d(e,"a",(function(){return r})),a.d(e,"f",(function(){return l})),a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return d})),a.d(e,"b",(function(){return o})),a.d(e,"g",(function(){return c}));var s=a("b775");function n(t){return Object(s["a"])({url:"/pictureGroup",method:"get",params:t})}function r(t){return Object(s["a"])({url:"/pictureGroup",method:"post",data:t})}function l(t){return Object(s["a"])({url:"/pictureGroup/"+t.id,method:"put",data:t})}function i(t){return Object(s["a"])({url:"/pictureGroup/"+t.id,method:"delete",data:t})}function d(t){return Object(s["a"])({url:"/picture/"+t.id,method:"get",params:t})}function o(t){return Object(s["a"])({url:"/merchantGoodsPicture/"+t.id,method:"delete",data:t})}function c(t){return Object(s["a"])({url:"/merchantGoodsPicture",method:"post",data:t})}},"5c05":function(t,e,a){},"95d4":function(t,e,a){"use strict";var s=a("5c05"),n=a.n(s);n.a},a6b9:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"e",(function(){return r})),a.d(e,"f",(function(){return l})),a.d(e,"g",(function(){return i})),a.d(e,"a",(function(){return d})),a.d(e,"d",(function(){return o})),a.d(e,"c",(function(){return c}));var s=a("b775");function n(t){return Object(s["a"])({url:"/merchantSuppliers",method:"get",params:t})}function r(t){return Object(s["a"])({url:"/merchantSubUser",method:"get",params:t})}function l(t){return Object(s["a"])({url:"/merchantSubUser",method:"post",data:t})}function i(t){var e=t.id;return delete t.id,Object(s["a"])({url:"/merchantSubUser/"+e,method:"put",data:t})}function d(t){var e=t.id;return delete t.id,Object(s["a"])({url:"/merchantSubUser/"+e,method:"delete",data:t})}function o(t){return Object(s["a"])({url:"/merchantSupplierOrder",method:"get",params:t})}function c(t){return Object(s["a"])({url:"/merchantSupplierBalance",method:"get",params:t})}},ed08:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return r}));a("28a5"),a("a481"),a("6b54");var s=a("7618");function n(t,e){if(0===arguments.length)return null;var a,n=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(s["a"])(t)?a=t:("string"===typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t)),"number"===typeof t&&10===t.toString().length&&(t*=1e3),a=new Date(t));var r={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},l=n.replace(/{(y|m|d|h|i|s|a)+}/g,(function(t,e){var a=r[e];return"a"===e?["日","一","二","三","四","五","六"][a]:(t.length>0&&a<10&&(a="0"+a),a||0)}));return l}function r(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}}}}]);