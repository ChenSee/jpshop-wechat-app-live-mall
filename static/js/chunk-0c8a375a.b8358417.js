(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c8a375a"],{2688:function(e,t,i){},"278c":function(e,t,i){"use strict";var n=i("f0ef"),o=i.n(n);o.a},2977:function(e,t,i){},"561c":function(e,t,i){},"56a3":function(e,t,i){"use strict";var n=i("b584"),o=i.n(n);o.a},5920:function(e,t,i){"use strict";var n=i("561c"),o=i.n(n);o.a},"5eaf":function(e,t,i){},"9d64":function(e,t,i){e.exports=i.p+"static/img/logo.8085b5fa.png"},"9ed6":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-bg"},[n("div",{staticClass:"login-container"},[n("div",{staticClass:"login-top"},[n("img",{staticStyle:{width:"150px",display:"inline-block"},attrs:{src:i("9d64")}}),e._v(" "),n("div",{staticClass:"login-homepage"},[n("svg-icon",{staticStyle:{"font-size":"115%"},attrs:{"icon-class":"zhuye"}}),n("span",{staticStyle:{display:"inline-block",padding:"0 5px"}},[e._v("官网首页")])],1)]),e._v(" "),n("div",{staticClass:"panel-container"},[e.isLogin?n("login-panel",{on:{Verify:e.Verify,register:function(t){e.isLogin=!1,e.isRegister=!0}}}):e._e(),e._v(" "),n("transition",{attrs:{name:"el-fade-in-linear"}},[e.isVerify?n("verify-slide",{on:{login:e.login}}):e._e()],1)],1),e._v(" "),n("div",[e.isRegister?n("register-panel",{on:{login:function(t){e.isLogin=!0,e.isRegister=!1}}}):e._e()],1)])])},o=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login-panel"},[i("div",{staticClass:"login-box"},[i("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[i("div",{staticClass:"title-container"},[i("h3",{staticClass:"title"},[e._v("登 录")])]),e._v(" "),i("el-form-item",{attrs:{prop:"username"}},[i("el-input",{ref:"username",attrs:{placeholder:"请输入手机号",name:"username",type:"text",tabindex:"1","auto-complete":"on","prefix-icon":"el-icon-mobile-phone"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{key:e.passwordType,ref:"password",attrs:{"show-password":"",placeholder:"请输入密码",name:"password",tabindex:"2","auto-complete":"on","prefix-icon":"el-icon-lock"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),i("el-form-item",[i("el-button",{staticStyle:{width:"100%","margin-bottom":"0px"},attrs:{loading:e.loading,type:"primary",plain:""},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin("loginRules")}}},[e._v("点击验证登录")])],1),e._v(" "),i("div",{staticClass:"other"},[i("div",{staticStyle:{display:"inline-block"}},[i("el-checkbox",{model:{value:e.isAgrre,callback:function(t){e.isAgrre=t},expression:"isAgrre"}},[i("span",{staticClass:"other-user-text"},[e._v("已阅读并同意")]),i("el-link",{staticStyle:{"font-size":"10px"},attrs:{type:"primary"}},[e._v("《用户使用协议》")])],1)],1),e._v(" "),i("div",{staticStyle:{float:"right",display:"inline-block"}},[i("el-link",{staticStyle:{"font-size":"10px"},attrs:{type:"primary"}},[e._v("忘记密码？")])],1)])],1)],1),e._v(" "),i("div",{staticClass:"register-link"},[i("el-link",{staticStyle:{"font-size":"10px"},attrs:{type:"info"},on:{click:e.register}},[e._v("注册"),i("i",{staticClass:"el-icon-arrow-right"})])],1),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogVerify,width:"360px"},on:{"update:visible":function(t){e.dialogVerify=t}}})],1)},s=[],a=i("61f7"),l=i("5f87"),c={name:"Login",data:function(){var e=function(e,t,i){Object(a["b"])(t)?i():i(new Error("请输入手机号"))},t=function(e,t,i){t.length<6?i(new Error("请输入不少于6个字符的密码")):i()};return{dialogVerify:!1,isAgrre:!0,loginForm:{username:Object(l["b"])(),password:Object(l["c"])()},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]},loading:!1,passwordType:"password",redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return!1;e.isAgrre?e.$emit("Verify",e.loginForm):e.$message.error("请阅读并勾选同意《用户使用协议》后，方可登录")}))},register:function(){console.log("111"),this.$emit("register")}}},d=c,u=(i("f286"),i("a0e8"),i("2877")),p=Object(u["a"])(d,r,s,!1,null,"266a5d6a",null),g=p.exports,f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login-panel"},[i("div",{staticClass:"login-box"},[i("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[i("div",{staticClass:"title-container"},[i("h3",{staticClass:"title"},[e._v("注 册")])]),e._v(" "),i("el-form-item",{attrs:{prop:"username"}},[i("el-input",{ref:"username",attrs:{placeholder:"请输入手机号",name:"username",type:"text",tabindex:"1","auto-complete":"on","prefix-icon":"el-icon-mobile-phone"},on:{blur:e.verifyPhone},model:{value:e.loginForm.phone,callback:function(t){e.$set(e.loginForm,"phone",e._n(t))},expression:"loginForm.phone"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"vercode"}},[i("el-input",{ref:"vercode",staticStyle:{width:"54%"},attrs:{placeholder:"请输入验证码",name:"vercode",type:"text",tabindex:"1","auto-complete":"on","prefix-icon":"el-icon-key"},model:{value:e.loginForm.vercode,callback:function(t){e.$set(e.loginForm,"vercode",t)},expression:"loginForm.vercode"}}),e._v(" "),i("el-button",{style:"margin-left:10px;padding:12px "+e.butPadding+"px",attrs:{type:"primary",plain:"",disabled:"获取验证码"!==e.codeButText},on:{click:e.getCode}},[e._v(e._s(e.codeButText)+"  \n        ")])],1),e._v(" "),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{key:e.passwordType,ref:"password",attrs:{"show-password":"",placeholder:"请输入密码",name:"password",tabindex:"2","auto-complete":"on","prefix-icon":"el-icon-lock"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"repass"}},[i("el-input",{key:e.passwordType,ref:"repass",attrs:{"show-password":"",placeholder:"请再次输入密码",name:"repass",tabindex:"3","auto-complete":"on","prefix-icon":"el-icon-lock"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.repass,callback:function(t){e.$set(e.loginForm,"repass",t)},expression:"loginForm.repass"}})],1),e._v(" "),i("el-form-item",[i("el-button",{staticStyle:{width:"100%","margin-bottom":"0px"},attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.handleLogin()}}},[e._v("确 认 注 册")])],1),e._v(" "),i("div",{staticClass:"other"},[i("div",{staticStyle:{display:"inline-block"}},[i("el-checkbox",{model:{value:e.isAgrre,callback:function(t){e.isAgrre=t},expression:"isAgrre"}},[i("span",{staticClass:"other-user-text"},[e._v("已阅读并同意")]),i("el-link",{staticStyle:{"font-size":"10px"},attrs:{type:"primary"}},[e._v("《用户使用协议》")])],1)],1),e._v(" "),i("div",{staticStyle:{float:"right",display:"inline-block"}},[i("el-link",{staticStyle:{"font-size":"10px"},attrs:{type:"primary"}},[e._v("忘记密码？")])],1)])],1)],1),e._v(" "),i("div",{staticClass:"register-link"},[i("el-link",{staticStyle:{"font-size":"10px"},attrs:{type:"info"},on:{click:e.login}},[e._v("登录"),i("i",{staticClass:"el-icon-arrow-right"})])],1),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogVerify,width:"360px"},on:{"update:visible":function(t){e.dialogVerify=t}}})],1)},m=[],v=i("db72"),h=i("c24f"),y={name:"Login",data:function(){var e=this,t=function(e,t,i){Object(a["b"])(t)?i():i(new Error("请输入手机号"))},i=function(e,t,i){t.length<6?i(new Error("请输入不少于6个字符的密码")):i()},n=function(t,i,n){i!==e.loginForm.password?n(new Error("两次输入的密码不一致！")):n()};return{dialogVerify:!1,isAgrre:!0,loginForm:{username:Object(l["b"])(),password:Object(l["c"])()},loginRules:{username:[{required:!0,trigger:"blur",validator:t}],password:[{required:!0,trigger:"blur",validator:i}],vercode:[{required:!0,trigger:"blur",message:"请输入验证码"}],repass:[{required:!0,trigger:"blur",validator:n}]},loading:!1,passwordType:"password",redirect:void 0,codeButText:"获取验证码",butPadding:20}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{verifyPhone:function(){var e=this;Object(h["d"])({phone:this.loginForm.phone}).then((function(t){200===t.status&&e.$message.warning("改手机号已注册！")}))},getCode:function(){var e=this;Object(h["a"])({phone:this.loginForm.phone,access_token:""}).then((function(t){if(200===t.status){var i=59;e.butPadding=5,e.codeButText=i+"秒后重新获取",e.intervalId=setInterval((function(){i--,i>0?e.codeButText=i+"秒后重新获取":(e.codeButText="获取验证码",e.butPadding=20,clearInterval(e.intervalId))}),1e3)}else e.$message.error(t.message)}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return!1;e.isAgrre?Object(h["c"])(Object(v["a"])({},e.loginForm,{agreement:"on",access_token:""})).then((function(t){200===t.status?(e.$message.success("注册成功！"),e.$emit("register")):e.$message.error(t.message)})):e.$message.error("请阅读并勾选同意《用户使用协议》后，方可登录")}))},test:function(){console.log("OK!")},login:function(){this.$emit("login")}}},b=y,x=(i("bfab"),i("56a3"),Object(u["a"])(b,f,m,!1,null,"41bef95a",null)),k=x.exports,w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"verify"},[i("div",{staticClass:"verify-panel",style:"left: "+(e.innerWidth/2-148)+"px"},[i("div",{staticClass:"verify-title"},[e._v("请完成安全验证")]),e._v(" "),i("div",{staticStyle:{padding:"15px 0"}},[i("Verify",{attrs:{type:4,imgUrl:"images/",imgName:e.imgName,imgSize:{width:"100%",height:"140px"},vSpace:20,blockSize:{width:"40px",height:"40px"},barSize:{width:"100%",height:"30px"},showButton:!1},on:{success:e.success}})],1)])])},_=[],F=i("c930"),C={name:"VerifySlide",components:{Verify:F["a"]},data:function(){return{innerWidth:window.innerWidth,imgName:["1.jpg","2.jpg","3.jpg","4.jpg","5.jpg","6.jpg"]}},methods:{success:function(){this.$emit("login")}}},$=C,O=(i("278c"),i("5920"),Object(u["a"])($,w,_,!1,null,"4c74a219",null)),S=O.exports,j={name:"login",components:{LoginPanel:g,VerifySlide:S,RegisterPanel:k},data:function(){return{isLogin:!0,isVerify:!1,isRegister:!1,loginForm:{}}},methods:{Verify:function(e){this.loginForm=e,this.isVerify=!0},login:function(){var e=this,t=this.$loading({lock:!0,text:"登录中...",spinner:"el-icon-loading",background:"rgba(0,0,0,0.7)"});this.$store.dispatch("user/login",this.loginForm).then((function(){e.$router.push({path:e.redirect||"/"}),t.close()})).catch((function(){e.isVerify=!1,t.close()}))},test:function(){console.log("OK!")}}},V=j,L=(i("c490"),Object(u["a"])(V,n,o,!1,null,"7cedffd4",null));t["default"]=L.exports},a0e8:function(e,t,i){"use strict";var n=i("5eaf"),o=i.n(n);o.a},b584:function(e,t,i){},bfab:function(e,t,i){"use strict";var n=i("2688"),o=i.n(n);o.a},c48f:function(e,t,i){},c490:function(e,t,i){"use strict";var n=i("c48f"),o=i.n(n);o.a},f0ef:function(e,t,i){},f286:function(e,t,i){"use strict";var n=i("2977"),o=i.n(n);o.a}}]);