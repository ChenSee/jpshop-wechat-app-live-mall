(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23c4fb90"],{"41d2":function(t,e,a){},"5a8a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"marketing-coupon-container"},[a("div",{staticClass:"header"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("添加商品")]),t._v(" "),a("span",[t._v("商品价格，数量等信息，以商品设置为准；不能选择秒杀，拼团，砍价活动商品；需设置不能加入购物车；限购按需设置，以免损失。")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"活动id",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goods_id",label:"商品id",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{label:"主图"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"goodsimg"},[a("img",{key:t.item,staticClass:"goodsimg-item",attrs:{src:e.row.pic_urls}})])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"标题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stocks",label:"库存"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.count,"page-size":10,"current-page":t.page},on:{"size-change":t.changePage,"current-change":t.changePage}})],1),t._v(" "),a("el-dialog",{attrs:{title:"选择商品",width:"500px",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"dialog-list"},[a("el-radio-group",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},t._l(t.goodsList,(function(e){return a("el-radio",{key:e.id,attrs:{label:e.id}},[a("img",{staticClass:"item-picurl",staticStyle:{width:"40px",height:"40px"},attrs:{src:e.pic_urls.split(",")[0]}}),t._v(" "),a("span",{staticClass:"item-yuan"},[t._v(t._s(e.name))])])})),1)],1),t._v(" "),a("div",{staticClass:"dialog-button"},[a("el-button",{attrs:{type:"primary"},on:{click:t.post}},[t._v("确定")])],1)])],1)},i=[],o=a("b7be"),c=a("c40e"),r={name:"coupon",components:{},data:function(){return{page:1,count:1,type:"10",dialogVisible:!1,list:[],goodsList:[],checked:0,tableData:[{id:1,goodsid:2,picurls:["https://imgs.juanpao.com/merchant%2Fshop%2Fgoods_picture%2F13%2FccvWPn%2F15723284125db7d3dcd0d98.jpeg","https://imgs.juanpao.com/merchant%2Fshop%2Fgoods_picture%2F13%2FccvWPn%2F15723284125db7d3dcd0d98.jpeg","https://imgs.juanpao.com/merchant%2Fshop%2Fgoods_picture%2F13%2FccvWPn%2F15723284125db7d3dcd0d98.jpeg"],title:"嘻嘻嘻哈哈哈",price:"123",stock:10}]}},watch:{},mounted:function(){this.getData(),this.getGoodsList()},methods:{getData:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,limit:1e3,page:this.page,status:this.status};Object(o["x"])(e).then((function(e){console.log(e),t.tableData=e.data}))},getGoodsList:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,limit:1e3,page:this.page,status:this.status};Object(c["f"])(e).then((function(e){200===e.status?t.goodsList=e.data:204===e.status?t.goodsList=[]:t.$message.error(e.message)}))},changePage:function(){},post:function(){this.dialogVisible=!1,this.putMerchantCashback()},putMerchantCashback:function(){var t=this;Object(o["I"])({goods_id:this.checked,key:this.$store.state.app.activeApp.saa_key}).then((function(){t.getData()}))},handleDelete:function(t,e){var a=this;console.log(e);var n={key:this.$store.state.app.activeApp.saa_key,id:e.id};this.$confirm("此操作将永久删除该活动, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["c"])(n).then((function(){a.$message({type:"success",message:"删除成功!"}),a.getData()}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))}}},s=r,u=(a("9441"),a("2877")),d=Object(u["a"])(s,n,i,!1,null,"67f660c4",null);e["default"]=d.exports},9441:function(t,e,a){"use strict";var n=a("41d2"),i=a.n(n);i.a},c40e:function(t,e,a){"use strict";a.d(e,"d",(function(){return i})),a.d(e,"i",(function(){return o})),a.d(e,"k",(function(){return c})),a.d(e,"l",(function(){return r})),a.d(e,"b",(function(){return s})),a.d(e,"e",(function(){return u})),a.d(e,"f",(function(){return d})),a.d(e,"c",(function(){return l})),a.d(e,"j",(function(){return p})),a.d(e,"a",(function(){return h})),a.d(e,"m",(function(){return g})),a.d(e,"g",(function(){return m})),a.d(e,"h",(function(){return f})),a.d(e,"n",(function(){return b}));var n=a("b775");function i(t){return Object(n["a"])({url:"/merchantCategory",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/merchantCategory",method:"POST",data:t})}function c(t){return Object(n["a"])({url:"/merchantCategory/"+t.id,method:"PUT",data:t})}function r(t){return Object(n["a"])({url:"/merchantCategoryStatus/"+t.id,method:"PUT",data:t})}function s(t){return Object(n["a"])({url:"/merchantCategory/"+t.id,method:"DELETE",data:t})}function u(t){return Object(n["a"])({url:"/merchantCategoryParent",method:"get",params:t})}function d(t){return Object(n["a"])({url:"/merchantGoods",method:"get",params:t})}function l(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantGoods/"+e,method:"get",params:t})}function p(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantGoods/"+e,method:"put",data:t})}function h(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantGoods/"+e,method:"delete",data:t})}function g(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantGood/"+e,method:"put",data:t})}function m(t){return Object(n["a"])({url:"/merchantCategoryTypeSub",method:"get",params:t})}function f(t){return Object(n["a"])({url:"/merchantGoodsRecycle",method:"get",params:t})}function b(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantGoodReduction/"+e,method:"PUT",data:t})}}}]);