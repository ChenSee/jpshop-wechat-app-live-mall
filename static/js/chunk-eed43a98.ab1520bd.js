(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eed43a98"],{"19ca":function(t,e,a){"use strict";var s=a("8f70"),r=a.n(s);r.a},"247f":function(t,e,a){"use strict";var s=a("6d83"),r=a.n(s);r.a},"34b8":function(t,e,a){"use strict";a.d(e,"e",(function(){return r})),a.d(e,"a",(function(){return n})),a.d(e,"f",(function(){return i})),a.d(e,"c",(function(){return l})),a.d(e,"d",(function(){return o})),a.d(e,"b",(function(){return c})),a.d(e,"g",(function(){return d}));var s=a("b775");function r(t){return Object(s["a"])({url:"/pictureGroup",method:"get",params:t})}function n(t){return Object(s["a"])({url:"/pictureGroup",method:"post",data:t})}function i(t){return Object(s["a"])({url:"/pictureGroup/"+t.id,method:"put",data:t})}function l(t){return Object(s["a"])({url:"/pictureGroup/"+t.id,method:"delete",data:t})}function o(t){return Object(s["a"])({url:"/picture/"+t.id,method:"get",params:t})}function c(t){return Object(s["a"])({url:"/merchantGoodsPicture/"+t.id,method:"delete",data:t})}function d(t){return Object(s["a"])({url:"/merchantGoodsPicture",method:"post",data:t})}},"39b8":function(t,e,a){"use strict";var s=a("7a2a"),r=a.n(s);r.a},"6d83":function(t,e,a){},"75cc":function(t,e,a){},"7a2a":function(t,e,a){},"8f70":function(t,e,a){},b9fb:function(t,e,a){},cdbb:function(t,e,a){"use strict";var s=a("75cc"),r=a.n(s);r.a},df07:function(t,e,a){"use strict";var s=a("f024"),r=a.n(s);r.a},ed08:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return n}));a("28a5"),a("a481"),a("6b54");var s=a("7618");function r(t,e){if(0===arguments.length)return null;var a,r=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(s["a"])(t)?a=t:("string"===typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t)),"number"===typeof t&&10===t.toString().length&&(t*=1e3),a=new Date(t));var n={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},i=r.replace(/{(y|m|d|h|i|s|a)+}/g,(function(t,e){var a=n[e];return"a"===e?["日","一","二","三","四","五","六"][a]:(t.length>0&&a<10&&(a="0"+a),a||0)}));return i}function n(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}}},f024:function(t,e,a){},f0b8:function(t,e,a){"use strict";var s=a("b9fb"),r=a.n(s);r.a},f885:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"marketing-coupon-container"},[a("el-tabs",{model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("el-tab-pane",{attrs:{label:"商品分组",name:"1"}},[a("ScoreGroup")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"商品列表",name:"2"}},[a("ScoreList")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"积分订单",name:"3"}},[a("ScoreOrder",{staticStyle:{"padding-top":"15px"}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"轮播图",name:"4"}},[a("Scorebanner")],1)],1)],1)},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticClass:"setting-yly-row"},[a("el-col",{staticClass:"setting-yly-row-col",staticStyle:{"text-align":"left","padding-left":"15px"},attrs:{span:14}},[a("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:t.add}},[t._v("新 增")])],1),t._v(" "),a("el-col",{staticStyle:{"text-align":"right","padding-right":"40px"},attrs:{span:10}},[a("el-input",{staticStyle:{"max-width":"240px"},attrs:{placeholder:"请输入名称",size:"small"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}},[a("el-button",{staticClass:"search-button",attrs:{slot:"suffix",type:"text",size:"small"},on:{click:t.search},slot:"suffix"},[a("i",{staticClass:"el-icon-search"})])],1)],1)],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.scoreList,stripe:"","row-key":"id","tree-props":{children:"data"}}},[a("el-table-column",{attrs:{prop:"sort",label:"排序",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"分类名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"分类图标",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("l-pic",{attrs:{picurl:t.row.pic_url,size:{width:40,height:40},disdel:!1,disview:!1}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"分类海报",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("l-pic",{attrs:{picurl:t.row.img_url,size:{width:40,height:40},disdel:!1,disview:!1}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#13ce66","active-value":"1","inactive-value":"0"},on:{change:function(a){return t.changeStatus(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"format_create_time",label:"创建时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"action-button",attrs:{type:"text"},on:{click:function(a){return t.eidt(e.row)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{staticClass:"action-button",attrs:{type:"text"},on:{click:function(a){return t.del(e.row)}}},[a("svg-icon",{attrs:{"icon-class":"shanchu"}})],1)]}}])})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.count,"page-size":10,"current-page":t.page},on:{"size-change":t.changePage,"current-change":t.changePage}})],1),t._v(" "),a("el-dialog",{attrs:{visible:t.disAdd,width:"30%",title:t.isAdd?"新增":"修改"},on:{"update:visible":function(e){t.disAdd=e}}},[t.disAdd?a("add",{attrs:{isAdd:t.isAdd,addData:t.scoreData},on:{success:function(e){t.disAdd=!1,t.getScoreGoodsList()}}}):t._e()],1)],1)},i=[],l=(a("55dd"),a("7f7f"),a("b775"));function o(t){return Object(l["a"])({url:"/merchantScoreCategory",method:"get",params:t})}function c(t){return Object(l["a"])({url:"/merchantScoreCategory",method:"post",data:t})}function d(t){var e=t.id;return delete t.id,Object(l["a"])({url:"/merchantScoreCategory/"+e,method:"put",data:t})}function u(t){var e=t.id;return delete t.id,Object(l["a"])({url:"/merchantScoreCategory/"+e,method:"delete",data:t})}function p(t){return Object(l["a"])({url:"/merchantScoreGoods",method:"get",params:t})}function m(t){var e=t.id;return delete t.id,Object(l["a"])({url:"/merchantScoreGoods/"+e,method:"put",data:t})}function h(t){var e=t.id;return delete t.id,Object(l["a"])({url:"/merchantScoreGoods/"+e,method:"delete",data:t})}function _(t){return Object(l["a"])({url:"/merchantScoreOrder",method:"get",params:t})}function v(t){return Object(l["a"])({url:"/merchantScoreBanner",method:"get",params:t})}function f(t){return Object(l["a"])({url:"/merchantScoreBanner",method:"post",data:t})}function g(t){var e=t.id;return delete t.id,Object(l["a"])({url:"/merchantScoreBanner/"+e,method:"put",data:t})}function b(t){var e=t.id;return delete t.id,Object(l["a"])({url:"/merchantScoreBanner/"+e,method:"delete",data:t})}var y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"addform",attrs:{model:t.addData,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"打印机名称"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择"},model:{value:t.addData.parent_id,callback:function(e){t.$set(t.addData,"parent_id",e)},expression:"addData.parent_id"}},t._l(t.scoreList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"分类名称"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入"},model:{value:t.addData.name,callback:function(e){t.$set(t.addData,"name",e)},expression:"addData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分类图标"}},[a("select-img",{on:{selectData:function(e){return t.addData.pic_url=e[0]}}})],1),t._v(" "),""!==t.addData.pic_url?a("el-form-item",[a("l-pic",{attrs:{picurl:t.addData.pic_url,size:{width:100,height:100},disdel:!1,disview:!1}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"分类海报"}},[a("select-img",{on:{selectData:function(e){return t.addData.img_url=e[0]}}})],1),t._v(" "),""!==t.addData.img_url?a("el-form-item",[a("l-pic",{attrs:{picurl:t.addData.img_url,size:{width:100,height:100},disdel:!1,disview:!1}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"序号"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入"},model:{value:t.addData.sort,callback:function(e){t.$set(t.addData,"sort",e)},expression:"addData.sort"}})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:t.submit}},[t._v("提 交")])],1)],1)},k=[],x=a("75fc"),w=a("2f39"),S=a("334a"),$={props:{addData:{type:Object,required:!0},isAdd:{type:Boolean,required:!0}},components:{SelectImg:w["a"],LPic:S["a"]},data:function(){return{scoreList:[{id:"未选择",name:"未选择"}]}},mounted:function(){this.getScoreGoodsList()},methods:{submit:function(){var t=this;this.$refs.addform.validate((function(e){e&&(t.isAdd?c(t.addData).then((function(e){200===e.status?(t.$emit("success"),t.$message.success("添加成功！")):t.$message.error(e.message)})):d(t.addData).then((function(e){200===e.status?(t.$emit("success"),t.$message.success("修改成功！")):t.$message.error(e.message)})))}))},getScoreGoodsList:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,parent_id:"0"};o(e).then((function(e){200===e.status?t.scoreList=[{id:"未选择",name:"未选择"}].concat(Object(x["a"])(e.data)):204===e.status?t.scoreList=[{id:"未选择",name:"未选择"}]:t.$message.error(e.message)}))}}},O=$,C=a("2877"),D=Object(C["a"])(O,y,k,!1,null,null,null),T=D.exports,L={name:"setting-yly",components:{add:T,LPic:S["a"]},data:function(){return{page:1,count:1,scoreList:[],searchName:"",disAdd:!1,isAdd:!0,scoreData:{key:this.$store.state.app.activeApp.saa_key,parent_id:"未选择",name:"",pic_url:"",img_url:"",status:"1",sort:""}}},mounted:function(){this.getScoreGoodsList()},methods:{getScoreGoodsList:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,page:this.page,limit:10};o(e).then((function(e){200===e.status?(t.scoreList=e.data,t.count=parseInt(e.count)):204===e.status?(t.scoreList=[],t.count=1):t.$message.error(e.message)}))},changePage:function(t){this.page=t,this.getScoreGoodsList()},search:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,page:1,limit:10,searchName:this.searchName};o(e).then((function(e){200===e.status?(t.scoreList=e.data,t.count=parseInt(e.count)):204===e.status?(t.scoreList=[],t.count=1):t.$message.error(e.message)}))},add:function(){this.scoreData={key:this.$store.state.app.activeApp.saa_key,parent_id:"未选择",name:"",pic_url:"",img_url:"",status:"1",sort:""},this.isAdd=!0,this.disAdd=!0},del:function(t){var e=this,a={key:this.$store.state.app.activeApp.saa_key,id:t.id};u(a).then((function(t){200===t.status?(e.getScoreGoodsList(),e.$message.success("删除成功！")):e.$message.error(t.message)}))},eidt:function(t){console.log(t),this.scoreData={key:this.$store.state.app.activeApp.saa_key,parent_id:t.parent_id,name:t.name,pic_url:t.pic_url,img_url:t.img_url,status:t.status,sort:t.sort,id:t.id},this.disAdd=!0,this.isAdd=!1},changeStatus:function(t){var e=this,a={key:this.$store.state.app.activeApp.saa_key,id:t.id,status:t.status};d(a).then((function(t){200===t.status?e.$message.success("修改成功！"):e.$message.error(t.message)}))}}},P=L,j=(a("cdbb"),Object(C["a"])(P,n,i,!1,null,"51e6c26e",null)),A=j.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{padding:"15px 0"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.add}},[t._v("添加商品")]),t._v(" "),a("div",{staticStyle:{float:"right"}},[a("el-input",{staticStyle:{"min-width":"280px"},attrs:{placeholder:"ID/名称/货号",size:"small"},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}},[a("el-select",{staticStyle:{"min-width":"100px"},attrs:{slot:"prepend",placeholder:"请选择",size:"small"},slot:"prepend",model:{value:t.goodsType,callback:function(e){t.goodsType=e},expression:"goodsType"}},[a("el-option",{attrs:{label:"未选择",value:""}}),t._v(" "),t._l(t.goodsTypeList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],2),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search",size:"small"},on:{click:t.search},slot:"append"})],1)],1)],1),t._v(" "),a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[a("el-tab-pane",{attrs:{label:"上架",name:"1"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.goodsList,stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"商品ID",align:"center",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品主图",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[""!==e.row.pic_urls?a("div",t._l(e.row.pic_urls.split(","),(function(e,s){return""!==e?a("l-pic",{key:s,attrs:{picurl:e,size:{width:40,height:40},disdel:!1,disview:!1}}):t._e()})),1):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("div",[t._v(t._s(e.row.name))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"score",label:"积分",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stocks",label:"库存",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{label:"属性",align:"center",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("el-tag",{attrs:{type:"info",effect:"dark",size:"mini"}},[t._v("预售")]),t._v(" "),a("el-tag",{attrs:{type:"1"===e.row.is_limit?"":"info",effect:"dark",size:"mini"}},[t._v("限量")]),t._v(" "),a("el-tag",{attrs:{type:"info",effect:"dark",size:"mini"}},[t._v("秒杀")]),t._v(" "),a("el-tag",{attrs:{type:"1"===e.row.is_open_assemble?"":"info",effect:"dark",size:"mini"}},[t._v("拼团")])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"是否上架",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#13ce66","active-value":"1","inactive-value":"0"},on:{change:function(a){return t.changeStatus(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"action-button",attrs:{type:"text"},on:{click:function(a){return t.edit(e.row)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{staticClass:"action-button",attrs:{type:"text"},on:{click:function(a){return t.del(e.row)}}},[a("svg-icon",{attrs:{"icon-class":"shanchu"}})],1),t._v(" "),a("el-button",{staticClass:"action-button",attrs:{type:"text"}},[a("svg-icon",{attrs:{"icon-class":"二维码"}})],1)]}}])})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"下架",name:"0"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.goodsList,stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"商品ID",align:"center",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品主图",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[""!==e.row.pic_urls?a("div",t._l(e.row.pic_urls.split(","),(function(e,s){return""!==e?a("l-pic",{key:s,attrs:{picurl:e,size:{width:40,height:40},disdel:!1,disview:!1}}):t._e()})),1):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("div",[t._v(t._s(e.row.name))]),t._v(" "),a("div",{staticStyle:{color:"#2d8cf0"}},[t._v("["+t._s(e.row.m_category_name)+"]")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stocks",label:"库存",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"销量",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{label:"属性",align:"center",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("el-tag",{attrs:{type:"info",effect:"dark",size:"mini"}},[t._v("预售")]),t._v(" "),a("el-tag",{attrs:{type:"1"===e.row.is_limit?"":"info",effect:"dark",size:"mini"}},[t._v("限量")]),t._v(" "),a("el-tag",{attrs:{type:"info",effect:"dark",size:"mini"}},[t._v("秒杀")]),t._v(" "),a("el-tag",{attrs:{type:"1"===e.row.is_open_assemble?"":"info",effect:"dark",size:"mini"}},[t._v("拼团")])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"是否上架",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#13ce66","active-value":"1","inactive-value":"0"},on:{change:function(a){return t.changeStatus(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"action-button",attrs:{type:"text"},on:{click:function(a){return t.edit(e.row)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{staticClass:"action-button",attrs:{type:"text"},on:{click:function(a){return t.del(e.row)}}},[a("svg-icon",{attrs:{"icon-class":"shanchu"}})],1),t._v(" "),a("el-button",{staticClass:"action-button",attrs:{type:"text"}},[a("svg-icon",{attrs:{"icon-class":"二维码"}})],1)]}}])})],1)],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.count,"page-size":10,"current-page":t.page},on:{"size-change":t.changePage,"current-change":t.changePage}})],1)],1)},N=[],G={name:"goodsList",components:{LPic:S["a"]},data:function(){return{page:1,count:1,status:"1",goodsList:[],searchName:"",goodsType:"",goodsTypeList:[]}},mounted:function(){this.getGoodsList(),this.getGoodsType()},methods:{getGoodsList:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,limit:10,page:this.page,status:this.status};p(e).then((function(e){200===e.status?(t.goodsList=e.data,t.count=parseInt(e.count)):204===e.status?(t.goodsList=[],t.count=1):t.$message.error(e.message)}))},changePage:function(t){this.page=t,this.getGoodsList()},changeStatus:function(t){var e=this,a={id:t.id,key:this.$store.state.app.activeApp.saa_key,status:t.status};m(a).then((function(t){200===t.status?(e.getGoodsList(),e.$message.success("修改成功！")):e.$message.error(t.message)}))},add:function(){this.$router.push("/score/list/add")},edit:function(t){this.$router.push("/score/list/add?id="+t.id)},del:function(t){var e=this,a={key:this.$store.state.app.activeApp.saa_key,id:t.id};h(a).then((function(t){200===t.status?(e.$message.success("删除成功！"),e.getGoodsList()):e.$message.error(t.message)}))},getGoodsType:function(){var t=this;o({key:this.$store.state.app.activeApp.saa_key}).then((function(e){200===e.status?t.goodsTypeList=e.data:t.$message.error(e.message)}))},search:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,limit:10,page:1,status:1,searchName:this.searchName,m_category_id:this.goodsType};""===e.m_category_id&&delete e.m_category_id,p(e).then((function(e){200===e.status?(t.goodsList=e.data,t.count=parseInt(e.count)):204===e.status?(t.goodsList=[],t.count=1):t.$message.error(e.message)}))},handleClick:function(){this.getGoodsList()}}},R=G,I=(a("247f"),Object(C["a"])(R,z,N,!1,null,"282a3a44",null)),B=I.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"order-manage-top"},[a("el-row",{staticClass:"order-manage-top-row"},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"order-manage-top-col",staticStyle:{"padding-left":"0"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetimerange","picker-options":t.pickerOptions,"range-separator":"至","start-placeholde":"开始时间","end-placeholde":"结束时间",size:"small"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)]),t._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"order-manage-top-col"},[a("span",{staticStyle:{padding:"0 5px","max-width":"100px"}},[t._v("退款状态")]),t._v(" "),a("el-select",{attrs:{placeholder:"选择退款状态",size:"small"},model:{value:t.orderParam.after_sale,callback:function(e){t.$set(t.orderParam,"after_sale",e)},expression:"orderParam.after_sale"}},[a("el-option",{attrs:{label:"未选定",value:""}}),t._v(" "),a("el-option",{attrs:{label:"退款中",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"同意退款",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"拒绝退款",value:"2"}})],1)],1)]),t._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"order-manage-top-col"},[a("span",{staticStyle:{padding:"0 5px"}},[t._v("订单状态")]),t._v(" "),a("el-select",{staticStyle:{"max-width":"150px"},attrs:{placeholder:"选择退款状态",size:"small"},model:{value:t.orderParam.status,callback:function(e){t.$set(t.orderParam,"status",e)},expression:"orderParam.status"}},t._l(t.orderStatus,(function(t){return a("el-option",{key:t.key,attrs:{label:t.label,value:t.key}})})),1)],1)])],1),t._v(" "),a("el-row",{staticClass:"order-manage-top-row",staticStyle:{margin:"15px auto"}},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"order-manage-top-col",staticStyle:{"padding-left":"0"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.orderParam.searchName,callback:function(e){t.$set(t.orderParam,"searchName",e)},expression:"orderParam.searchName"}},[a("el-select",{staticStyle:{width:"110px"},attrs:{slot:"prepend",placeholder:"请选择",size:"small"},slot:"prepend",model:{value:t.orderParam.searchNameType,callback:function(e){t.$set(t.orderParam,"searchNameType",e)},expression:"orderParam.searchNameType"}},[a("el-option",{attrs:{label:"订单号",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"买家姓名",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"买家电话",value:"3"}})],1)],1)],1)]),t._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"order-manage-top-col"},[a("span",{staticStyle:{padding:"0 5px"}},[t._v("用户ID")]),t._v(" "),a("el-input",{staticStyle:{"max-width":"150px"},attrs:{placeholder:"请输入",size:"small"},model:{value:t.orderParam.user_id,callback:function(e){t.$set(t.orderParam,"user_id",e)},expression:"orderParam.user_id"}})],1)]),t._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"order-manage-top-col"},[a("span",{staticStyle:{padding:"0 5px"}},[t._v("商品名称")]),t._v(" "),a("el-input",{staticStyle:{"max-width":"150px"},attrs:{placeholder:"请输入",size:"small"},model:{value:t.orderParam.goods_name,callback:function(e){t.$set(t.orderParam,"goods_name",e)},expression:"orderParam.goods_name"}})],1)])],1),t._v(" "),a("el-button",{staticStyle:{padding:"8px 20px","font-size":"15px","font-weight":"600"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.page=1,t.getOrder()}}},[t._v("搜 索")]),t._v(" "),a("div",[a("el-tabs",{staticClass:"test",on:{"tab-click":t.tabClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabMenuData,(function(e){return a("el-tab-pane",{key:e.key,attrs:{label:e.label,name:e.key}},[a("order-panel",{attrs:{"order-data-list":t.orderDataList,name:e.label},on:{sendOut:function(e){return t.getOrder()},sendRemark:function(e){return t.getOrder()},sendRefund:function(e){return t.getOrder()},sendTakeTheir:function(e){return t.getOrder()}}})],1)})),1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.count,"page-size":10,"current-page":t.page},on:{"size-change":t.changePage,"current-change":t.changePage}})],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.disTakeTheir,width:"40%",title:"选择自提点"},on:{"update:visible":function(e){t.disTakeTheir=e}}},[a("take-their",{on:{selectRowData:t.sendTakeTheir}})],1)],1)},q=[],M=(a("7514"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-panel"},[a("el-row",{staticClass:"order-panel-title"},[a("el-col",{attrs:{span:2}},[t._v("ID")]),t._v(" "),a("el-col",{attrs:{span:5}},[t._v("商品信息")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("买家信息")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("送货方式")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("支付金额")]),t._v(" "),a("el-col",{attrs:{span:1}},[t._v("状态")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("操作")])],1),t._v(" "),t._l(t.orderDataList,(function(e){return a("div",{key:e.id,staticClass:"order-panel-content"},[a("div",{staticClass:"order-panel-content-title"},[a("div",[a("span",[t._v("订单号:")]),t._v(" "),a("span",{staticStyle:{color:"#259B24"}},[t._v(t._s(e.order_sn))])]),t._v(" "),a("div",[a("span",{staticStyle:{"font-weight":"500"}},[t._v(t._s(e.create_time))])]),t._v(" "),a("div",["1"===e.status?a("el-button",{staticStyle:{padding:"3px 5px"},attrs:{type:"warning",size:"mini"},on:{click:function(a){t.takeTheirParams.order_sn=e.order_sn,t.disTakeTheir=!0}}},[t._v("更换")]):t._e(),t._v(" "),a("span",[t._v("自提点")])],1),t._v(" "),a("div",[a("span",[t._v("姓名：")]),t._v(" "),a("span",[t._v(t._s(e.realname))]),t._v(" "),a("span",{staticStyle:{"font-weight":"600"}},[t._v(t._s(e.leader_phone))])]),t._v(" "),a("div",[a("span",[t._v("小区：")]),t._v(" "),a("span",[t._v(t._s(e.area_name))])]),t._v(" "),a("div",[a("span",[t._v("地址：")]),t._v(" "),a("span",[t._v(t._s(e.province)+"-"+t._s(e.city)+t._s(e.area))])])]),t._v(" "),a("el-row",{staticClass:"order-panel-content-row"},[a("el-col",{staticClass:"order-panel-content-col",attrs:{span:2}},[a("div",[t._v(t._s(e.id))])]),t._v(" "),a("el-col",{staticClass:"order-panel-content-col",attrs:{span:5}},[a("el-scrollbar",{attrs:{wrapStyle:{height:"120px"},viewStyle:{height:"120px"},noresize:!1}},t._l(e.order,(function(s){return a("div",{key:s.goods_id,staticClass:"goods-container",style:e.order.lenght>1?{height:"70px","line-height":"70px"}:{height:"120px","line-height":"120px"}},[a("div",{staticStyle:{width:"40px"}},[a("l-pic",{staticStyle:{"vertical-align":"middle"},attrs:{picurl:s.pic_url,size:{height:40,width:40},disdel:!1,disview:!1}})],1),t._v(" "),a("div",{staticClass:"goods-container-info"},[a("div",[t._v(t._s(s.name))]),t._v(" "),a("div",[a("span",[t._v("￥"+t._s(s.price)+"x"+t._s(s.number))]),t._v(" "),a("span",[t._v("小计:")]),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v("￥"+t._s(s.total_price))])]),t._v(" "),a("div",[a("span",[t._v("规格")]),t._v(" "),a("span",[t._v(t._s(s.property1_name))]),t._v(" "),a("span",[t._v(t._s(s.property2_name))])])])])})),0)],1),t._v(" "),a("el-col",{staticClass:"order-panel-content-col",attrs:{span:4}},[a("el-scrollbar",{attrs:{wrapStyle:{height:"120px"},viewStyle:{height:"115px"},noresize:!1}},[a("div",{staticClass:"buyer-info",staticStyle:{"line-height":"150px"}},[a("div",[a("span",[t._v("昵称：")]),t._v(" "),a("span",[t._v(t._s(e.nickname))]),t._v(" "),a("span",[t._v("["+t._s(e.user_id)+"]")])]),t._v(" "),a("div",[a("span",[t._v("姓名：")]),t._v(" "),a("span",[t._v(t._s(e.name))])]),t._v(" "),a("div",[a("span",[t._v("电话：")]),t._v(" "),a("span",[t._v(t._s(e.phone))])]),t._v(" "),a("div",[a("span",[t._v("地址：")]),t._v(" "),a("span",[t._v(t._s(e.address))])])])])],1),t._v(" "),a("el-col",{staticClass:"order-panel-content-col",attrs:{span:4}},[a("div",{staticStyle:{width:"100%",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[a("svg-icon",{staticStyle:{"font-size":"25px"},attrs:{"icon-class":"快递查询"}}),t._v(" "),a("span",[t._v(t._s("0"===e.after_type?"到点自提":"快递"))])],1)]),t._v(" "),a("el-col",{staticClass:"order-panel-content-col",attrs:{span:4}},[a("el-scrollbar",{attrs:{wrapStyle:{height:"120px"},viewStyle:{height:"115px"},noresize:!1}},[a("div",{staticClass:"price-info"},[a("div",[a("span",[t._v("商品总价：")]),t._v(" "),a("span",[t._v(t._s(e.total_price))])]),t._v(" "),a("div",[a("span",[t._v("配送费用：")]),t._v(" "),a("span",[t._v(t._s(e.express_price))])]),t._v(" "),a("div",[a("span",[t._v("订单总价：")]),t._v(" "),a("span",[t._v(t._s(e.total_price))])]),t._v(" "),a("div",[a("span",[t._v("总优惠：")]),t._v(" "),a("span",[t._v("0")])]),t._v(" "),a("div",[a("span",[t._v("实付金额：")]),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v("￥"+t._s(e.payment_money))])])])])],1),t._v(" "),a("el-col",{staticClass:"order-panel-content-col",attrs:{span:1}},[a("el-button",{staticStyle:{padding:"4px 7px"},attrs:{type:"success",size:"mini"}},[t._v(t._s(t.orderStatus(e.status).label))])],1),t._v(" "),a("el-col",{staticClass:"order-panel-content-col",attrs:{span:4}},[a("el-scrollbar",{attrs:{wrapStyle:{height:"120px"},viewStyle:{height:"115px"},noresize:!1}},[a("div",{staticStyle:{"line-height":"30px",padding:"10px 10px"}},["1"===e.status?a("el-button",{staticClass:"handle-button",attrs:{type:"primary",plain:""},on:{click:function(a){return t.sendOut(e.order_sn)}}},[t._v("发货")]):t._e(),t._v(" "),"1"===e.status?a("el-button",{staticClass:"handle-button",attrs:{type:"primary",plain:""},on:{click:function(a){t.takeTheirParams.order_sn=e.order_sn,t.disTakeTheir=!0}}},[t._v("修改自提点")]):t._e(),t._v(" "),""===e.group_admin_remark?a("el-button",{staticClass:"handle-button",attrs:{type:"warning",plain:""},on:{click:function(a){return t.openRemarkPanle(e.group_admin_remark,e.order_sn)}}},[t._v("备注")]):a("el-badge",{staticStyle:{"margin-top":"10px","margin-right":"40px"},attrs:{value:"注"}},[a("el-button",{staticClass:"handle-button",attrs:{type:"success"},on:{click:function(a){return t.openRemarkPanle(e.group_admin_remark,e.order_sn)}}},[t._v("已备注")])],1),t._v(" "),a("el-button",{staticClass:"handle-button",attrs:{type:"danger",plain:""},on:{click:function(a){return t.refundAffirm(e)}}},[t._v("一键退款")]),t._v(" "),a("el-button",{staticClass:"handle-button",attrs:{type:"success",plain:""}},[t._v("打印小票")])],1)])],1)],1)],1)})),t._v(" "),a("el-dialog",{attrs:{title:"备注",visible:t.disRemark,width:"500px"},on:{"update:visible":function(e){t.disRemark=e}}},[a("div",[a("el-input",{attrs:{type:"textarea",autosize:{minRows:5,maxRows:20},placeholder:"请输入备注"},model:{value:t.remarkParams.remark,callback:function(e){t.$set(t.remarkParams,"remark",e)},expression:"remarkParams.remark"}}),t._v(" "),a("div",{staticStyle:{"margin-top":"15px","text-align":"center"}},[a("el-button",{staticStyle:{padding:"10px 25px"},attrs:{type:"primary"},on:{click:t.sendRemark}},[t._v("提交")])],1)],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.disTakeTheir,width:"40%",title:"选择自提点"},on:{"update:visible":function(e){t.disTakeTheir=e}}},[a("take-their",{on:{selectRowData:t.sendTakeTheir}})],1)],2)}),F=[],J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入名称",size:"small"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[a("el-button",{staticClass:"search-button",attrs:{slot:"suffix",type:"text",size:"small"},on:{click:t.searchName},slot:"suffix"},[a("i",{staticClass:"el-icon-search"})])],1)],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.takeTheirList,stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center",width:"40px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"realname",label:"姓名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"addr",label:"自提点地址",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{padding:"3px 5px"},attrs:{type:"primary",plain:""},on:{click:function(a){return t.select(e.row)}}},[t._v("选择")])]}}])})],1)],1)])},H=[],U=(a("386d"),a("f8b7")),Y={name:"TakeTheir",data:function(){return{search:"",takeTheirList:[],page:"1"}},mounted:function(){this.getTakeTheir()},methods:{select:function(t){this.$emit("selectRowData",t)},getTakeTheir:function(){var t=this,e={type:"1",is_self:"1",key:this.$store.state.app.activeApp.saa_key,page:this.page,limit:10};Object(U["e"])(e).then((function(e){200===e.status?t.takeTheirList=e.data:204===e.status?t.takeTheirList=[]:t.$message.error(e.message)}))},searchName:function(){console.log(this.search)}}},K=Y,Q=Object(C["a"])(K,J,H,!1,null,null,null),V=Q.exports,W={name:"OrderPanel",components:{LPic:S["a"],TakeTheir:V},props:{name:{type:String,required:!1,default:""},orderDataList:{type:Array,required:!0}},data:function(){return{status:[{label:"未选定",key:"-1"},{label:"待付款",key:"0"},{label:"待发货",key:"1"},{label:"已取消",key:"2"},{label:"已发货",key:"3"},{label:"已退款",key:"4"},{label:"退款中",key:"5"},{label:"待评价",key:"6"},{label:"已完成",key:"7"},{label:"已删除",key:"8"},{label:"一键退款",key:"9"},{label:"拼团中",key:"11"}],disRemark:!1,remarkParams:{remark:"",order_sn:"",key:this.$store.state.app.activeApp.saa_key},disTakeTheir:!1,takeTheirParams:{leader_uid:"",order_sn:"",key:this.$store.state.app.activeApp.saa_key}}},methods:{sendOut:function(t){var e=this,a={order_sn:t,key:this.$store.state.app.activeApp.saa_key};Object(U["k"])(a).then((function(t){200===t.status?(e.$message.success("发货成功"),e.$emit("sendOut")):e.$message.error(t.message)}))},openRemarkPanle:function(t,e){this.disRemark=!0,this.remarkParams.remark=t,this.remarkParams.order_sn=e},sendRemark:function(){var t=this;""!==this.remarkParams.remark.trim()?Object(U["j"])(this.remarkParams).then((function(e){200===e.status?(t.$message.success("保存备注成功！"),t.disRemark=!1,t.$emit("sendRemark")):t.$message.error(e.message)})):this.$message.error("备注内容不可为空，请填写备注！")},refundAffirm:function(t){var e=this;this.$confirm("一键退款可能引起买家投诉，请协商后谨慎操作","一键退款",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={id:t.id,key:e.$store.state.app.activeApp.saa_key};Object(U["i"])(a).then((function(t){200===t.status&&(e.$message.success("退款成功！"),e.$emit("sendRefund"))}))})).catch((function(){e.$message.error("取消")}))},sendTakeTheir:function(t){var e=this;this.takeTheirParams.leader_uid=t.uid,Object(U["h"])(this.takeTheirParams).then((function(t){200===t.status?(e.disTakeTheir=!1,e.$message.success("修改成功！"),e.$emit("sendTakeTheir")):e.$$message.error(t.message)}))},orderStatus:function(t){var e=this.status.find((function(e){return e.key===t}));return void 0===e?{label:""}:e}}},X=W,Z=(a("df07"),Object(C["a"])(X,M,F,!1,null,"132e5908",null)),tt=Z.exports,et=a("ed08"),at={name:"ordermanage",components:{OrderPanel:tt,TakeTheir:V},data:function(){return{page:1,count:1,orderParam:{key:this.$store.state.app.activeApp.saa_key,after_sale:"",status:"-1",searchNameType:"1",searchName:"",user_id:void 0===this.$route.query.id?"":this.$route.query.id,goods_name:"",start_time:"",end_time:"",page:this.page,limit:10},disTakeTheir:!1,orderDataList:[{id:"1969",order_sn:"201909051012541839",user_id:"480",user_contact_id:"134",total_price:"2.00",is_tuan:"0",express_type:"0",leader_uid:"0",leader_self_uid:"0",tuan_status:"0",express_price:"0.00",payment_money:"2.00",voucher_id:"0",nickname:"清祀一十",address:"江苏省-连云港市-海州区-德惠商务大厦B座1823-000000",phone:"18261707840",name:"霸霸",after_sale:"-1",after_type:"0",after_phone:"0",after_addr:null,after_remark:"",after_imgs:null,after_express_number:null,after_admin_imgs:null,after_admin_remark:"",order_type:"2",status:"2",remark:"",group_admin_remark:"",refund:null,create_time:"2019-09-05 10:12:54",voucher_price:0,province_code:null,city_code:null,area_code:null,area_name:null,addr:null,realname:null,leader_phone:null,express_name:null,express_number:null,is_assemble:"0",order:[{name:"测试拼团商品1",pic_url:"https://imgs.juanpao.com/goods%2F13%2F2019%2F09%2F02%2F15674081805d6cc034def13.png",goods_id:"677",property1_name:"1",property2_name:"",stock_id:"3214",number:"1",total_price:"2.00",price:"3.00",confirm_time:"",send_out_time:"",payment_money:"2.00",express_id:null,admin_remark:null}],province:"",city:"",area:""}],orderStatus:[{label:"未选定",key:""},{label:"待付款",key:"0"},{label:"待发货",key:"1"},{label:"已取消(24小时未支付)",key:"2"},{label:"已发货",key:"3"},{label:"已退款",key:"4"},{label:"退款中",key:"5"},{label:"待评价",key:"6"},{label:"已完成(评价后)",key:"7"},{label:"已删除",key:"8"},{label:"一键退款",key:"9"},{label:"拼团中",key:"11"}],tabMenuData:[{label:"全部",key:"1",status:""},{label:"待付款",key:"2",status:"0"},{label:"待发货",key:"3",status:"1"},{label:"已发货",key:"4",status:"3"},{label:"已完成",key:"5",status:"7"},{label:"退款中",key:"6",status:"5"},{label:"已关闭",key:"7",status:"8"}],activeName:"1",time:"",self:"-1",source:"-1",pickerOptions:{shortcuts:[{text:"近7天",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"近30天",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}}]}}},watch:{page:function(t){this.orderParam.page=t},time:function(t){null!==t?(this.orderParam.start_time=Object(et["a"])(t[0],"{y}-{m}-{d} {h}:{i}:{s}"),this.orderParam.end_time=Object(et["a"])(t[1],"{y}-{m}-{d} {h}:{i}:{s}")):(this.orderParam.start_time="",this.orderParam.end_time="")}},mounted:function(){this.getOrder()},methods:{tabClick:function(t){this.orderParam.status=this.tabMenuData.find((function(e){return e.label===t.label})).status,this.page=1,this.getOrder()},getOrder:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,page:this.page,limit:10};_(e).then((function(e){200===e.status?(t.orderDataList=e.data,t.count=parseInt(e.count)):204===e.status?(t.orderDataList=[],t.count=1):t.$message.error(e.message)}))},search:function(){var t=this;"-1"===this.orderParam.status&&(this.orderParam.status=""),"-1"===this.orderParam.after_sale&&(this.orderParam.after_sale=""),_(this.orderParam).then((function(e){200===e.status?(t.orderDataList=e.data,t.count=parseInt(e.count)):204===e.status?(t.orderDataList=[],t.count=1):t.$message.error(e.message)}))},sendTakeTheir:function(t){this.orderParam.after_sale=t.realname,this.disTakeTheir=!1},changePage:function(t){this.page=t,this.getOrder()}}},st=at,rt=(a("f0b8"),Object(C["a"])(st,E,q,!1,null,"5cf1cca7",null)),nt=rt.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticClass:"setting-yly-row"},[a("el-col",{staticClass:"setting-yly-row-col",staticStyle:{"text-align":"left","padding-left":"15px"},attrs:{span:14}},[a("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:t.add}},[t._v("新 增")])],1),t._v(" "),a("el-col",{staticStyle:{"text-align":"right","padding-right":"40px"},attrs:{span:10}},[a("el-input",{staticStyle:{"max-width":"240px"},attrs:{placeholder:"请输入名称",size:"small"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}},[a("el-button",{staticClass:"search-button",attrs:{slot:"suffix",type:"text",size:"small"},on:{click:t.search},slot:"suffix"},[a("i",{staticClass:"el-icon-search"})])],1)],1)],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bannerList,stripe:""}},[a("el-table-column",{attrs:{prop:"name",label:"横幅名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"横幅图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("l-pic",{attrs:{picurl:t.row.pic_url,size:{width:40,height:40},disdel:!1,disview:!1}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"jump_url",label:"跳转链接",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s("1"===e.row.type?"微信端":"小程序"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#13ce66","active-value":"1","inactive-value":"0"},on:{change:function(a){return t.changeStatus(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"action-button",attrs:{type:"text"},on:{click:function(a){return t.eidt(e.row)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{staticClass:"action-button",attrs:{type:"text"},on:{click:function(a){return t.del(e.row)}}},[a("svg-icon",{attrs:{"icon-class":"shanchu"}})],1)]}}])})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.count,"page-size":10,"current-page":t.page},on:{"size-change":t.changePage,"current-change":t.changePage}})],1),t._v(" "),a("el-dialog",{attrs:{visible:t.disAdd,width:"30%",title:t.isAdd?"新增":"修改"},on:{"update:visible":function(e){t.disAdd=e}}},[t.disAdd?a("add",{attrs:{isAdd:t.isAdd,addData:t.scoreData},on:{success:function(e){t.disAdd=!1,t.getBannerList()}}}):t._e()],1)],1)},lt=[],ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"addform",attrs:{model:t.addData,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"横幅名称"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入"},model:{value:t.addData.name,callback:function(e){t.$set(t.addData,"name",e)},expression:"addData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"横幅图片"}},[a("select-img",{on:{selectData:function(e){return t.addData.pic_url=e[0]}}})],1),t._v(" "),""!==t.addData.pic_url?a("el-form-item",[a("l-pic",{attrs:{picurl:t.addData.pic_url,size:{width:100,height:100},disdel:!1,disview:!1}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"跳转链接"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入"},model:{value:t.addData.jump_url,callback:function(e){t.$set(t.addData,"jump_url",e)},expression:"addData.jump_url"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-radio-group",{model:{value:t.addData.type,callback:function(e){t.$set(t.addData,"type",e)},expression:"addData.type"}},[a("el-radio",{attrs:{label:"1"}},[t._v("微信端")]),t._v(" "),a("el-radio",{attrs:{label:"2"}},[t._v("小程序")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-switch",{attrs:{"active-color":"#13ce66","active-value":"1","inactive-value":"0"},model:{value:t.addData.status,callback:function(e){t.$set(t.addData,"status",e)},expression:"addData.status"}})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:t.submit}},[t._v("提 交")])],1)],1)},ct=[],dt={props:{addData:{type:Object,required:!0},isAdd:{type:Boolean,required:!0}},components:{SelectImg:w["a"],LPic:S["a"]},data:function(){return{scoreList:[{id:"未选择",name:"未选择"}]}},mounted:function(){this.getScoreGoodsList()},methods:{submit:function(){var t=this;this.$refs.addform.validate((function(e){e&&(t.isAdd?f(t.addData).then((function(e){200===e.status?(t.$emit("success"),t.$message.success("添加成功！")):t.$message.error(e.message)})):g(t.addData).then((function(e){200===e.status?(t.$emit("success"),t.$message.success("修改成功！")):t.$message.error(e.message)})))}))},getScoreGoodsList:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,parent_id:"0"};o(e).then((function(e){200===e.status?t.scoreList=[{id:"未选择",name:"未选择"}].concat(Object(x["a"])(e.data)):204===e.status?t.scoreList=[{id:"未选择",name:"未选择"}]:t.$message.error(e.message)}))}}},ut=dt,pt=Object(C["a"])(ut,ot,ct,!1,null,null,null),mt=pt.exports,ht={name:"setting-yly",components:{add:mt,LPic:S["a"]},data:function(){return{page:1,count:1,bannerList:[],searchName:"",disAdd:!1,isAdd:!0,scoreData:{key:this.$store.state.app.activeApp.saa_key,name:"",pic_url:"",jump_url:"",type:"1",status:"1"}}},mounted:function(){this.getBannerList()},methods:{getBannerList:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,page:this.page,limit:10};v(e).then((function(e){200===e.status?(t.bannerList=e.data,t.count=parseInt(e.count)):204===e.status?(t.bannerList=[],t.count=1):t.$message.error(e.message)}))},changePage:function(t){this.page=t,this.getBannerList()},search:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,page:1,limit:10,searchName:this.searchName};v(e).then((function(e){200===e.status?(t.bannerList=e.data,t.count=parseInt(e.count)):204===e.status?(t.bannerList=[],t.count=1):t.$message.error(e.message)}))},add:function(){this.scoreData={key:this.$store.state.app.activeApp.saa_key,name:"",pic_url:"",jump_url:"",type:"1",status:"1"},this.isAdd=!0,this.disAdd=!0},del:function(t){var e=this,a={key:this.$store.state.app.activeApp.saa_key,id:t.id};b(a).then((function(t){200===t.status?(e.getBannerList(),e.$message.success("删除成功！")):e.$message.error(t.message)}))},eidt:function(t){this.scoreData={key:this.$store.state.app.activeApp.saa_key,parent_id:t.parent_id,name:t.name,pic_url:t.pic_url,jump_url:t.jump_url,status:t.status,type:t.type,id:t.id},this.disAdd=!0,this.isAdd=!1},changeStatus:function(t){var e=this,a={key:this.$store.state.app.activeApp.saa_key,id:t.id,status:t.status};g(a).then((function(t){200===t.status?e.$message.success("修改成功！"):e.$message.error(t.message)}))}}},_t=ht,vt=(a("39b8"),Object(C["a"])(_t,it,lt,!1,null,"5e679b82",null)),ft=vt.exports,gt={components:{ScoreGroup:A,ScoreList:B,ScoreOrder:nt,Scorebanner:ft},data:function(){return{type:"1"}}},bt=gt,yt=(a("19ca"),Object(C["a"])(bt,s,r,!1,null,"3a15994d",null));e["default"]=yt.exports},f8b7:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"k",(function(){return n})),a.d(e,"l",(function(){return i})),a.d(e,"j",(function(){return l})),a.d(e,"i",(function(){return o})),a.d(e,"f",(function(){return c})),a.d(e,"e",(function(){return d})),a.d(e,"h",(function(){return u})),a.d(e,"d",(function(){return p})),a.d(e,"c",(function(){return m})),a.d(e,"g",(function(){return h})),a.d(e,"a",(function(){return _}));var s=a("b775");function r(t){return Object(s["a"])({url:"/merchantOrder",method:"get",params:t})}function n(t){return Object(s["a"])({url:"/merchantSend",method:"put",data:t})}function i(t){return Object(s["a"])({url:"/dianwodaCreate",method:"post",data:t})}function l(t){return Object(s["a"])({url:"/merchantOrderRemark",method:"put",data:t})}function o(t){var e=t.id;return delete t.id,Object(s["a"])({url:"/merchantOrderRefund/"+e,method:"put",data:t})}function c(t){return Object(s["a"])({url:"/merchantPrint",method:"get",params:t})}function d(t){return Object(s["a"])({url:"/merchantTuanUser",method:"get",params:t})}function u(t){return Object(s["a"])({url:"/merchantOrderLeader",method:"put",data:t})}function p(t){return Object(s["a"])({url:"/merchantOrderSummary",method:"get",params:t})}function m(t){return Object(s["a"])({url:"/merchantComment",method:"get",params:t})}function h(t){var e=t.id;return delete t.id,Object(s["a"])({url:"/merchantComment/"+e,method:"put",data:t})}function _(t){var e=t.id;return delete t.id,Object(s["a"])({url:"/merchantComment/"+e,method:"delete",data:t})}}}]);