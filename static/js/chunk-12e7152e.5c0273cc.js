(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12e7152e"],{"7dab":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"applet-baseconfig-container"},[e.showform?a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticStyle:{color:"#fff"}},[e._v("1")])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form",{attrs:{model:e.baseConfig,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"APPID"}},[a("el-input",{staticStyle:{"max-width":"70%"},attrs:{placeholder:"请输入",size:"small"},model:{value:e.baseConfig.app_id,callback:function(t){e.$set(e.baseConfig,"app_id",t)},expression:"baseConfig.app_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"SECRET"}},[a("el-input",{staticStyle:{"max-width":"70%"},attrs:{placeholder:"请输入",size:"small"},model:{value:e.baseConfig.secret,callback:function(t){e.$set(e.baseConfig,"secret",t)},expression:"baseConfig.secret"}})],1),e._v(" "),"1"===e.baseConfig.wx_pay_type?a("div",[a("el-form-item",{attrs:{label:"商户号"}},[a("el-input",{staticStyle:{"max-width":"70%"},attrs:{placeholder:"请输入",size:"small"},on:{input:function(t){return e.input_change()}},model:{value:e.baseConfig.wx.mch_id,callback:function(t){e.$set(e.baseConfig.wx,"mch_id",t)},expression:"baseConfig.wx.mch_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密钥"}},[a("el-input",{staticStyle:{"max-width":"70%"},attrs:{placeholder:"请输入",size:"small"},on:{input:function(t){return e.input_change()}},model:{value:e.baseConfig.wx.pay_key,callback:function(t){e.$set(e.baseConfig.wx,"pay_key",t)},expression:"baseConfig.wx.pay_key"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"证书CERT"}},[a("el-upload",{ref:"upload",staticStyle:{display:"inline-block"},attrs:{"auto-upload":!1,"list-type":"text",action:"#","on-change":e.getFileCert}},[a("el-button",{staticStyle:{"margin-left":"15px"},attrs:{slot:"trigger",type:"primary",size:"mini"},slot:"trigger"},[a("span",[e._v("选择文件")])])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"证书KEY"}},[a("el-upload",{ref:"upload",staticStyle:{display:"inline-block"},attrs:{"auto-upload":!1,"list-type":"text",action:"#","on-change":e.getFileKey}},[a("el-button",{staticStyle:{"margin-left":"15px"},attrs:{slot:"trigger",type:"primary",size:"mini"},slot:"trigger"},[a("span",[e._v("选择文件")])])],1)],1)],1):a("div",[a("el-form-item",{attrs:{label:"商户号"}},[a("el-input",{staticStyle:{"max-width":"70%"},attrs:{placeholder:"请输入",size:"small"},on:{input:function(t){return e.input_change()}},model:{value:e.baseConfig.saobei.merchant_no,callback:function(t){e.$set(e.baseConfig.saobei,"merchant_no",t)},expression:"baseConfig.saobei.merchant_no"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"终端号"}},[a("el-input",{staticStyle:{"max-width":"70%"},attrs:{placeholder:"请输入",size:"small"},on:{input:function(t){return e.input_change()}},model:{value:e.baseConfig.saobei.terminal_id,callback:function(t){e.$set(e.baseConfig.saobei,"terminal_id",t)},expression:"baseConfig.saobei.terminal_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"令牌"}},[a("el-input",{staticStyle:{"max-width":"70%"},attrs:{placeholder:"请输入",size:"small"},on:{input:function(t){return e.input_change()}},model:{value:e.baseConfig.saobei.saobei_access_token,callback:function(t){e.$set(e.baseConfig.saobei,"saobei_access_token",t)},expression:"baseConfig.saobei.saobei_access_token"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"支付方式"}},[a("el-radio-group",{model:{value:e.baseConfig.wx_pay_type,callback:function(t){e.$set(e.baseConfig,"wx_pay_type",t)},expression:"baseConfig.wx_pay_type"}},[a("el-radio",{attrs:{label:"1"}},[e._v("微信支付")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("微信支付服务商")])],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticStyle:{color:"#fff"}},[e._v("1")])])],1):e._e(),e._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[a("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:e.submit}},[e._v("保 存")])],1)],1)},s=[],n=a("b775");function o(e){return Object(n["a"])({url:"/merchantCon",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/merchantConfig",method:"put",data:e})}a("bd16");var r={name:"AppletBaseConfig",data:function(){return{baseConfig:{app_id:"",secret:"",wx_pay_type:"",wx:{mch_id:"",pay_key:"",cert_path:"",key_path:""},saobei:{merchant_no:"",terminal_id:"",saobei_access_token:""}},showform:!1,test:"123"}},mounted:function(){this.getBaseConfig()},methods:{submit:function(){var e=this;this.baseConfig.key=this.$store.state.app.activeApp.saa_key,l(this.baseConfig).then((function(t){200===t.status?e.$message.success("修改成功！"):e.$message.error(t.message)}))},getBaseConfig:function(){var e=this;o({key:this.$store.state.app.activeApp.saa_key}).then((function(t){if(200===t.status){var a=t.data;e.baseConfig={app_id:a.app_id,secret:a.secret,wx_pay_type:a.wx_pay_type,wx:{mch_id:a.wx.mch_id,pay_key:a.wx.pay_key,cert_path:"",key_path:""},saobei:{merchant_no:a.saobei.merchant_no,terminal_id:a.saobei.terminal_id,saobei_access_token:a.saobei.saobei_access_token}},console.log(e.baseConfig),e.showform=!0}else e.$message.error(t.message)}))},getFileCert:function(e){var t=this;if(window.FileReader){var a=new FileReader;a.readAsDataURL(e.raw),a.onloadend=function(e){t.baseConfig.wx.cert_path=e.target.result}}},getFileKey:function(e){var t=this;if(window.FileReader){var a=new FileReader;a.readAsDataURL(e.raw),a.onloadend=function(e){t.baseConfig.wx.key_path=e.target.result}}},input_change:function(){this.$forceUpdate()}}},c=r,p=(a("de09"),a("2877")),u=Object(p["a"])(c,i,s,!1,null,"08061d9c",null);t["default"]=u.exports},9384:function(e,t,a){},bd16:function(e,t,a){"use strict";function i(e){var t=new Date(1e3*parseInt(e.subscribeTime)),a=t.getFullYear()+"-",i=t.getMonth()+1<10?"0"+(t.getMonth()+1)+"-":t.getMonth()+1+"-",s=t.getDate()<10?"0"+t.getDate()+" ":t.getDate()+" ",n=t.getHours()<10?"0"+t.getHours()+":":t.getHours()+":",o=t.getMinutes()<10?"0"+t.getMinutes()+":":t.getMinutes()+":",l=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return a+i+s+n+o+l}a.d(t,"a",(function(){return i}))},de09:function(e,t,a){"use strict";var i=a("9384"),s=a.n(i);s.a}}]);