(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c9758e24"],{"02f4":function(t,e,i){var n=i("4588"),r=i("be13");t.exports=function(t){return function(e,i){var s,c,a=String(r(e)),o=n(i),l=a.length;return o<0||o>=l?t?"":void 0:(s=a.charCodeAt(o),s<55296||s>56319||o+1===l||(c=a.charCodeAt(o+1))<56320||c>57343?t?a.charAt(o):s:t?a.slice(o,o+2):c-56320+(s-55296<<10)+65536)}}},"0390":function(t,e,i){"use strict";var n=i("02f4")(!0);t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},"0bfb":function(t,e,i){"use strict";var n=i("cb7c");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"214f":function(t,e,i){"use strict";i("b0c5");var n=i("2aba"),r=i("32e9"),s=i("79e5"),c=i("be13"),a=i("2b4c"),o=i("520a"),l=a("species"),u=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();t.exports=function(t,e,i){var h=a(t),f=!s((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),p=f?!s((function(){var e=!1,i=/a/;return i.exec=function(){return e=!0,null},"split"===t&&(i.constructor={},i.constructor[l]=function(){return i}),i[h](""),!e})):void 0;if(!f||!p||"replace"===t&&!u||"split"===t&&!d){var v=/./[h],g=i(c,h,""[t],(function(t,e,i,n,r){return e.exec===o?f&&!r?{done:!0,value:v.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}})),m=g[0],b=g[1];n(String.prototype,t,m),r(RegExp.prototype,h,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},"28a5":function(t,e,i){"use strict";var n=i("aae3"),r=i("cb7c"),s=i("ebd6"),c=i("0390"),a=i("9def"),o=i("5f1b"),l=i("520a"),u=i("79e5"),d=Math.min,h=[].push,f="split",p="length",v="lastIndex",g=4294967295,m=!u((function(){RegExp(g,"y")}));i("214f")("split",2,(function(t,e,i,u){var b;return b="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[p]||2!="ab"[f](/(?:ab)*/)[p]||4!="."[f](/(.?)(.?)/)[p]||"."[f](/()()/)[p]>1||""[f](/.?/)[p]?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!n(t))return i.call(r,t,e);var s,c,a,o=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,f=void 0===e?g:e>>>0,m=new RegExp(t.source,u+"g");while(s=l.call(m,r)){if(c=m[v],c>d&&(o.push(r.slice(d,s.index)),s[p]>1&&s.index<r[p]&&h.apply(o,s.slice(1)),a=s[0][p],d=c,o[p]>=f))break;m[v]===s.index&&m[v]++}return d===r[p]?!a&&m.test("")||o.push(""):o.push(r.slice(d)),o[p]>f?o.slice(0,f):o}:"0"[f](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)}:i,[function(i,n){var r=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,r,n):b.call(String(r),i,n)},function(t,e){var n=u(b,t,this,e,b!==i);if(n.done)return n.value;var l=r(t),h=String(this),f=s(l,RegExp),p=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(m?"y":"g"),x=new f(m?l:"^(?:"+l.source+")",v),k=void 0===e?g:e>>>0;if(0===k)return[];if(0===h.length)return null===o(x,h)?[h]:[];var y=0,_=0,C=[];while(_<h.length){x.lastIndex=m?_:0;var w,S=o(x,m?h:h.slice(_));if(null===S||(w=d(a(x.lastIndex+(m?0:_)),h.length))===y)_=c(h,_,p);else{if(C.push(h.slice(y,_)),C.length===k)return C;for(var A=1;A<=S.length-1;A++)if(C.push(S[A]),C.length===k)return C;_=y=w}}return C.push(h.slice(y)),C}]}))},"4f7f":function(t,e,i){"use strict";var n=i("6335"),r=i.n(n);r.a},"520a":function(t,e,i){"use strict";var n=i("0bfb"),r=RegExp.prototype.exec,s=String.prototype.replace,c=r,a="lastIndex",o=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[a]||0!==e[a]}(),l=void 0!==/()??/.exec("")[1],u=o||l;u&&(c=function(t){var e,i,c,u,d=this;return l&&(i=new RegExp("^"+d.source+"$(?!\\s)",n.call(d))),o&&(e=d[a]),c=r.call(d,t),o&&c&&(d[a]=d.global?c.index+c[0].length:e),l&&c&&c.length>1&&s.call(c[0],i,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(c[u]=void 0)})),c}),t.exports=c},"5f1b":function(t,e,i){"use strict";var n=i("23c6"),r=RegExp.prototype.exec;t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var s=i.call(t,e);if("object"!==typeof s)throw new TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},6335:function(t,e,i){},"7cf9":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"employee-role-container"},[i("div",[t.isAdd?i("el-row",{staticClass:"employee-role-row"},[i("el-col",{staticClass:"employee-role-row-col",staticStyle:{"text-align":"left","padding-left":"15px"},attrs:{span:14}},[i("div",{staticStyle:{padding:"0 10px"}},[t._v("请输入角色名")]),t._v(" "),i("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入角色名",size:"small"},model:{value:t.role.title,callback:function(e){t.$set(t.role,"title",e)},expression:"role.title"}})],1),t._v(" "),i("el-col",{staticStyle:{"text-align":"right","padding-right":"40px"},attrs:{span:10}},[i("div",{staticStyle:{color:"#fff"}},[t._v("1")])])],1):i("el-row",{staticClass:"employee-role-row"},[i("el-col",{staticClass:"employee-role-row-col",staticStyle:{"text-align":"left","padding-left":"15px"},attrs:{span:14}},[i("div",{staticStyle:{padding:"0 10px"}},[t._v("选择角色")]),t._v(" "),i("el-select",{staticStyle:{width:"30%"},attrs:{placeholder:"请选择",size:"small"},on:{change:function(e){return t.selectRole(t.roleId)}},model:{value:t.roleId,callback:function(e){t.roleId=e},expression:"roleId"}},t._l(t.roleList,(function(t){return i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1),t._v(" "),i("div",{staticStyle:{padding:"0 10px"}},[i("el-button",{attrs:{type:"text"},on:{click:function(e){t.disName=!0}}},[i("i",{staticClass:"el-icon-edit"})]),t._v(" "),i("el-button",{attrs:{type:"text"},on:{click:t.del}},[i("svg-icon",{attrs:{"icon-class":"shanchu"}})],1)],1)],1),t._v(" "),i("el-col",{staticStyle:{"text-align":"right","padding-right":"40px"},attrs:{span:10}},[i("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:t.add}},[t._v("新 增")])],1)],1)],1),t._v(" "),i("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选")]),t._v(" "),i("el-divider"),t._v(" "),i("el-scrollbar",{attrs:{wrapStyle:{height:"calc(100vh - 320px)"},viewStyle:{height:"calc(100vh - 330px)"},noresize:!0}},[i("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.checkedCities,callback:function(e){t.checkedCities=e},expression:"checkedCities"}},t._l(t.actionList,(function(e){return i("div",{key:e.id,staticClass:"check-content"},[i("div",{staticStyle:{width:"10%"}},[i("el-checkbox",{attrs:{label:e.id},on:{change:function(i){return t.roleChange(i,e.id)}}},[t._v(t._s(e.title))])],1),t._v(" "),i("div",{staticStyle:{width:"90%"}},t._l(e.one_list,(function(n){return i("el-row",{key:n.id,staticClass:"check-content-role-one"},[i("el-col",{attrs:{span:4}},[i("el-checkbox",{attrs:{label:n.id},on:{change:function(i){return t.oneChange(i,e.id,n.id)}}},[t._v(t._s(n.title))])],1),t._v(" "),i("el-col",{staticClass:"check-content-role-one-two",attrs:{span:20}},t._l(n.two_list,(function(e){return i("el-checkbox",{key:e.id,staticStyle:{width:"150px",height:"30px"},attrs:{label:e.id}},[t._v(t._s(e.title))])})),1)],1)})),1),t._v(" "),i("el-divider")],1)})),0)],1),t._v(" "),i("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[i("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:t.submit}},[t._v("提 交")])],1),t._v(" "),i("el-dialog",{attrs:{title:"修改名称",visible:t.disName,width:"30%"},on:{"update:visible":function(e){t.disName=e}}},[i("div",[i("span",{staticStyle:{padding:"0 10px"}},[t._v("角色名称：")]),t._v(" "),i("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入角色名称",size:"small"},model:{value:t.role.title,callback:function(e){t.$set(t.role,"title",e)},expression:"role.title"}})],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.disName=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.putName}},[t._v("确 定")])],1)])],1)},r=[],s=(i("7514"),i("28a5"),i("ac6a"),i("ef75")),c={name:"setting-role",data:function(){return{actionList:[],roleList:[],roleId:"",isAdd:!1,role:{title:"",status:"1",rules:"",key:this.$store.state.app.activeApp.saa_key},isIndeterminate:!0,checkAll:[],checkedCities:[],disName:!1}},computed:{options:function(){var t=[];return this.actionList.forEach((function(e){t.push(e.id),e.one_list&&e.one_list.forEach((function(e){t.push(e.id),e.two_list&&e.two_list.forEach((function(e){t.push(e.id)}))}))})),t}},watch:{role:function(t){t.rules?this.checkedCities=t.rules.split(",").filter((function(t){return""!==t})):this.checkedCities=[]},checkedCities:function(t){var e=this;t.forEach((function(i,n){n<t.length-1?e.role.rules+=i+",":e.role.rules+=i}))}},mounted:function(){this.getActionList(),this.getRoleList()},methods:{add:function(){this.role={title:"",status:"1",rules:"",key:this.$store.state.app.activeApp.saa_key},this.isAdd=!0},del:function(){var t=this;Object(s["b"])({key:this.$store.state.app.activeApp.saa_key,id:this.role.id}).then((function(e){200===e.status?(t.$message.success("删除成功！"),t.disName=!1,t.getRoleList()):t.$message.error(e.message)}))},submit:function(){var t=this;if(this.isAdd)Object(s["i"])(this.role).then((function(e){200===e.status?(t.$message.success("添加成功！"),t.isAdd=!1,t.getRoleList()):t.$message.error(e.message)}));else{var e={key:this.$store.state.app.activeApp.saa_key,rules:this.role.rules,id:this.role.id};Object(s["k"])(e).then((function(e){200===e.status?(t.$message.success("修改成功！"),t.isAdd=!1,t.getRoleList()):t.$message.error(e.message)}))}},putName:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,id:this.role.id,title:this.role.title};Object(s["k"])(e).then((function(e){200===e.status?(t.$message.success("修改成功！"),t.disName=!1,t.getRoleList()):t.$message.error(e.message)}))},getActionList:function(){var t=this;Object(s["c"])({key:this.$store.state.app.activeApp.saa_key}).then((function(e){200===e.status?t.actionList=e.data:t.$message.error(e.message)}))},getRoleList:function(){var t=this;Object(s["g"])({key:this.$store.state.app.activeApp.saa_key}).then((function(e){200===e.status?(t.roleList=e.data,t.role=t.roleList[0],t.roleId=t.roleList[0].id):204===e.status?t.roleList=[]:t.$message.error(e.message)}))},selectRole:function(t){this.role=this.roleList.find((function(e){return e.id===t}))},handleCheckAllChange:function(t){this.checkedCities=t?this.options:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){this.checkedCities=t},roleChange:function(t,e){var i=this,n=this.actionList.find((function(t){return t.id===e})),r=[];n.one_list&&n.one_list.forEach((function(t){r.push(t.id),t.two_list&&t.two_list.forEach((function(t){r.push(t.id)}))})),r.forEach((function(e){t?i.checkedCities.indexOf(e)<0&&i.checkedCities.push(e):i.checkedCities.splice(i.checkedCities.indexOf(e),1)}))},oneChange:function(t,e,i){var n=this,r=this.actionList.find((function(t){return t.id===e})),s=r.one_list.find((function(t){return t.id===i})),c=[];s.two_list&&s.two_list.forEach((function(t){c.push(t.id)})),c.forEach((function(e){t?n.checkedCities.indexOf(e)<0&&n.checkedCities.push(e):n.checkedCities.splice(n.checkedCities.indexOf(e),1)}))}}},a=c,o=(i("4f7f"),i("2877")),l=Object(o["a"])(a,n,r,!1,null,"eba6016e",null);e["default"]=l.exports},aae3:function(t,e,i){var n=i("d3f4"),r=i("2d95"),s=i("2b4c")("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==r(t))}},b0c5:function(t,e,i){"use strict";var n=i("520a");i("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},ef75:function(t,e,i){"use strict";i.d(e,"e",(function(){return r})),i.d(e,"d",(function(){return s})),i.d(e,"h",(function(){return c})),i.d(e,"j",(function(){return a})),i.d(e,"a",(function(){return o})),i.d(e,"g",(function(){return l})),i.d(e,"c",(function(){return u})),i.d(e,"k",(function(){return d})),i.d(e,"b",(function(){return h})),i.d(e,"i",(function(){return f})),i.d(e,"f",(function(){return p}));var n=i("b775");function r(t){return Object(n["a"])({url:"/merchantSubUser",method:"get",params:t})}function s(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantSubUser/"+e,method:"get",params:t})}function c(t){return Object(n["a"])({url:"/merchantSubUser",method:"post",data:t})}function a(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantSubUser/"+e,method:"put",data:t})}function o(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantSubUser/"+e,method:"delete",data:t})}function l(t){return Object(n["a"])({url:"/merchantSubGroup",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/merchantNewRules",method:"get",params:t})}function d(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantSubGroup/"+e,method:"put",data:t})}function h(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantSubGroup/"+e,method:"delete",data:t})}function f(t){return Object(n["a"])({url:"/merchantSubGroup",method:"post",data:t})}function p(t){return Object(n["a"])({url:"/merchantSubKefu",method:"get",params:t})}}}]);